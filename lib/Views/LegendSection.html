<div data-bind="foreach: proxiedLegendUrls || []">
    <!-- ko if: $data.isImage -->
    <!-- ko if: $data.insertDirectly -->
    <div class="now-viewing-legend-image" data-bind="event: { error : $data.onImageError }, visible: !$data.imageHasError, html: $data.safeSvgContent "/>
    </div>
    <!-- /ko -->
    <!-- ko if: !$data.insertDirectly -->
    <a data-bind="attr: { href: $data.url , tabindex: $root.nowViewingTab.isActive ? 0 : -1 }" target="_blank">
        <div class="now-viewing-legend-image">
            <img class="now-viewing-legend-image-background"
                 data-bind="event: { error : $data.onImageError }, attr: { src: $data.url }, visible: !$data.imageHasError"/>
        </div>
    </a>
    <!-- /ko -->
    <!-- /ko -->

    <!-- ko if: !$data.isImage -->
    <a class="now-viewing-legend-text" data-bind="attr: { href: $data.url }" target="_blank">
    @<<LEGEND_OPEN_TAB>>@</a>
    <!-- /ko -->
</div>

<div data-bind="if: !proxiedLegendUrls || proxiedLegendUrls.length === 0">
    <!-- ko if: catalogMember.type !== 'abs-itt' -->
    <div class="now-viewing-legend-text">Il n'y a pas de légende disponible pour cet élément.</div>
    <!-- /ko -->
    <!-- ko if: catalogMember.type === 'abs-itt' -->
    <div class="now-viewing-legend-text">Selectionner au moins un code pour chaque zone de données.</div>
    <!-- /ko -->
</div>
